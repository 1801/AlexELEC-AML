From 25c0025652fdf9d53151c935e4efaf4c24e6466c Mon Sep 17 00:00:00 2001
From: kszaq <kszaquitto@gmail.com>
Date: Sat, 17 Jun 2017 21:51:09 +0200
Subject: [PATCH] AMLUtils: fix SD modes for devices with 3.14 kernel

---
 xbmc/utils/AMLUtils.cpp | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/xbmc/utils/AMLUtils.cpp b/xbmc/utils/AMLUtils.cpp
index a5468d9..ff24b61 100644
--- a/xbmc/utils/AMLUtils.cpp
+++ b/xbmc/utils/AMLUtils.cpp
@@ -371,7 +371,7 @@ bool aml_mode_to_resolution(const char *mode, RESOLUTION_INFO *res)
     res->fRefreshRate = 60;
     res->dwFlags = D3DPRESENTFLAG_PROGRESSIVE;
   }
-  else if ((StringUtils::EqualsNoCase(fromMode, "480cvbs")) || (StringUtils::EqualsNoCase(fromMode, "480i")))
+  else if ((StringUtils::EqualsNoCase(fromMode, "480cvbs")) || (StringUtils::StartsWith(fromMode, "480i")))
   {
     res->iWidth = 720;
     res->iHeight= 480;
@@ -380,7 +380,7 @@ bool aml_mode_to_resolution(const char *mode, RESOLUTION_INFO *res)
     res->fRefreshRate = 60;
     res->dwFlags = D3DPRESENTFLAG_INTERLACED;
   }
-  else if ((StringUtils::EqualsNoCase(fromMode, "576cvbs")) || (StringUtils::EqualsNoCase(fromMode, "576i")))
+  else if ((StringUtils::EqualsNoCase(fromMode, "576cvbs")) || (StringUtils::StartsWith(fromMode, "576i")))
   {
     res->iWidth = 720;
     res->iHeight= 576;
@@ -389,7 +389,7 @@ bool aml_mode_to_resolution(const char *mode, RESOLUTION_INFO *res)
     res->fRefreshRate = 50;
     res->dwFlags = D3DPRESENTFLAG_INTERLACED;
   }
-  else if (StringUtils::EqualsNoCase(fromMode, "480p"))
+  else if (StringUtils::StartsWith(fromMode, "480p"))
   {
     res->iWidth = 720;
     res->iHeight= 480;
@@ -398,7 +398,7 @@ bool aml_mode_to_resolution(const char *mode, RESOLUTION_INFO *res)
     res->fRefreshRate = 60;
     res->dwFlags = D3DPRESENTFLAG_PROGRESSIVE;
   }
-  else if (StringUtils::EqualsNoCase(fromMode, "576p"))
+  else if (StringUtils::StartsWith(fromMode, "576p"))
   {
     res->iWidth = 720;
     res->iHeight= 576;
-- 
1.8.3.1


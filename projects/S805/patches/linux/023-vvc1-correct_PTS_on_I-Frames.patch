diff --git a/drivers/amlogic/amports/vvc1.c b/drivers/amlogic/amports/vvc1.c
index 7b44c4a..a8858a3 100644
--- a/drivers/amlogic/amports/vvc1.c
+++ b/drivers/amlogic/amports/vvc1.c
@@ -123,6 +123,7 @@ static u32 pts_by_offset = 1;
 static u32 total_frame;
 static u32 next_pts;
 static u64 next_pts_us64;
+static unsigned int bframe_count;
 
 #ifdef DEBUG_PTS
 static u32 pts_hit, pts_missed, pts_i_hit, pts_i_missed;
@@ -244,7 +245,7 @@ static irqreturn_t vvc1_isr(int irq, void *dev_id)
     u32 picture_type;
     u32 buffer_index;
     unsigned int pts, pts_valid = 0, offset;
-    u32 v_width, v_height;
+    u32 v_width, v_height, dur;
     u64 pts_us64 = 0;
 
     reg = READ_VREG(VC1_BUFFEROUT);
@@ -269,8 +270,21 @@ static irqreturn_t vvc1_isr(int irq, void *dev_id)
         if (pts_by_offset) {
             offset = READ_VREG(VC1_OFFSET_REG);
             if (keyframe_pts_only && (picture_type != I_PICTURE)) {
+		if (picture_type == B_PICTURE)
+			++bframe_count;
+		else
+			bframe_count = 0;
                 pts_valid = 0;
             } else if (pts_lookup_offset_us64(PTS_TYPE_VIDEO, offset, &pts, 0, &pts_us64) == 0) {
+		if (keyframe_pts_only)
+		{
+			dur = bframe_count * DUR2PTS(vvc1_amstream_dec_info.rate);
+			if (reg & INTERLACE_FLAG)
+				dur >>= 1;
+			pts += dur;
+			pts_us64 += (dur * 100) / 9;
+			bframe_count = 0;
+		}
                 pts_valid = 1;
 #ifdef DEBUG_PTS
                 pts_hit++;
@@ -749,6 +763,8 @@ static void vvc1_local_init(void)
 
     keyframe_pts_only = (u32)vvc1_amstream_dec_info.param & 0x100;
 
+    bframe_count = 0;
+
     total_frame = 0;
 
     next_pts = 0;
